version: "3.6"

services:
    octaaf:
      image: golang:1.10
      volumes:
          - .:/go/src/octaaf
      working_dir: /go/src/octaaf
      command: ./init.sh
      network_mode: host
      ports:
        - "8080:8080"
      depends_on:
        - redis
        - postgres

    redis:
      image: redis:4.0
      ports:
        - "6379:6379"

    postgres:
      image: postgres:10.5
      ports:
        - "5432:5432"
      environment:
        POSTGRES_DB: "octaaf_development"
        POSTGRES_USER: "octaaf"
